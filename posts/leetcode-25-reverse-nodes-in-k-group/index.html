<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>[LeetCode] 25: Reverse Nodes in k-Group - MaerlutkeadS</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="[LeetCode] 25: Reverse Nodes in k-Group" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://akamayu-ouo.github.io/posts/leetcode-25-reverse-nodes-in-k-group/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-22T17:39:40+08:00" />
<meta property="article:modified_time" content="2021-07-22T17:39:40+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[LeetCode] 25: Reverse Nodes in k-Group"/>
<meta name="twitter:description" content=""/>
<script src="https://akamayu-ouo.github.io/js/feather.min.js"></script>
	
	
        <link href="https://akamayu-ouo.github.io/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://akamayu-ouo.github.io/css/main.b81ecc221520255fd37e11500c217a1fa6fad6e7dc32c2960f2b8d62c1de15d5.css" />
		<link rel="stylesheet" type="text/css" href="https://akamayu-ouo.github.io/css/dark.e2614a3a266b191b41b67f03b6c9b01f5d5f5a4d7d08a12e0400278dafe57452.css" media="(prefers-color-scheme: dark)" />
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://akamayu-ouo.github.io/">MaerlutkeadS</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
	</nav>
</header>

<main>
	<article>

		<div class="title">
			<h1 class="title">[LeetCode] 25: Reverse Nodes in k-Group</h1>
			<div class="meta">Posted on Jul 22, 2021</div>
		</div>
		

		<section class="body">
			<ul>
<li>Problem Link: <a href="https://leetcode.com/problems/reverse-nodes-in-k-group">[â†—]</a></li>
<li>Difficulty: ğŸ”´ Hard</li>
<li>Problem description:</li>
</ul>
<blockquote>
<p>Given a linked list, reverse the nodes of a linked list k at a time and return its modified list.
k is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of k then left-out nodes, in the end, should remain as it is.
You may not alter the values in the list&rsquo;s nodes, only nodes themselves may be changed.</p>
</blockquote>
<ol>
<li>
<p>Example 1:</p>
<pre><code class="language-graphviz" data-lang="graphviz">digraph G{
    rankdir=LR;
    nodesep=.3;
    node[shape=none];
    node[label=&quot;output:&quot;] out;
    node[label=&quot;input:&quot;] in;
    node[colorscheme=&quot;pastel19&quot;, style=filled, shape=circle];
    node[fillcolor=1];
    node[label=&quot;1&quot;] b1,a1;
    node[label=&quot;2&quot;] b2,a2;
    node[fillcolor=2];
    node[label=&quot;3&quot;] b3,a3;
    node[label=&quot;4&quot;] b4,a4;
    node[fillcolor=9];
    node[label=&quot;5&quot;] b5,a5;
    a1-&gt;a2-&gt;a3-&gt;a4-&gt;a5;
    b2-&gt;b1-&gt;b4-&gt;b3-&gt;b5;
    edge [len=0.1, style=invis];
    in-&gt;a1;
    out-&gt;b2;
}
</code></pre><pre><code>Input: head = [1,2,3,4,5], k = 2
Output: [2,1,4,3,5]
</code></pre></li>
<li>
<p>Example 2:</p>
<pre><code class="language-graphviz" data-lang="graphviz">digraph G{
    rankdir=LR;
    nodesep=.3;
    node[shape=none];
    node[label=&quot;output:&quot;] out;
    node[label=&quot;input:&quot;] in;
    node[colorscheme=&quot;pastel19&quot;, style=filled, shape=circle];
    node[fillcolor=1];
    node[label=&quot;1&quot;] b1,a1;
    node[label=&quot;2&quot;] b2,a2;
    node[label=&quot;3&quot;] b3,a3;
    node[fillcolor=2];
    node[label=&quot;4&quot;] b4,a4;
    node[label=&quot;5&quot;] b5,a5;
    node[fillcolor=9];
    a1-&gt;a2-&gt;a3-&gt;a4-&gt;a5;
    b3-&gt;b2-&gt;b1-&gt;b4-&gt;b5;
    edge [len=0.1, style=invis];
    in-&gt;a1;
    out-&gt;b3;
}
</code></pre><pre><code>Input: head = [1,2,3,4,5], k = 3
Output: [3,2,1,4,5]
</code></pre></li>
<li>
<p>Example 3:</p>
<pre><code class="language-graphviz" data-lang="graphviz">digraph G{
    rankdir=LR;
    nodesep=.3;
    node[shape=none];
    node[label=&quot;output:&quot;] out;
    node[label=&quot;input:&quot;] in;
    node[colorscheme=&quot;pastel19&quot;, style=filled, shape=circle];
    node[label=&quot;1&quot;, fillcolor=1] b1,a1;
    node[label=&quot;2&quot;, fillcolor=2] b2,a2;
    node[label=&quot;3&quot;, fillcolor=3] b3,a3;
    node[label=&quot;4&quot;, fillcolor=4] b4,a4;
    node[label=&quot;5&quot;, fillcolor=5] b5,a5;
    a1-&gt;a2-&gt;a3-&gt;a4-&gt;a5;
    b1-&gt;b2-&gt;b3-&gt;b4-&gt;b5;
    edge [len=0.1, style=invis];
    in-&gt;a1;
    out-&gt;b1;
}
</code></pre><pre><code>Input: head = [1,2,3,4,5], k = 1
Output: [1,2,3,4,5]
</code></pre></li>
</ol>
<h2 id="æ€è·¯">æ€è·¯</h2>
<p>ç”¨å…©å€‹æŒ‡æ¨™ï¼ˆ<code>p1</code>, <code>p2</code>ï¼‰è¡¨ç¤ºè¦åè½‰çš„å€é–“ï¼ˆé¡ä¼¼ sliding window çš„æ„Ÿè¦ºï¼‰ã€‚æ¯åè½‰å¥½ä¸€å€‹å€é–“å°±å°‡å…©å€‹æŒ‡æ¨™å¾€å‰é€² <code>k</code> æ­¥ï¼Œç›´åˆ° <code>p2</code> ç¢°åˆ° <code>nullptr</code>ã€‚</p>
<h2 id="first-version">First version</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>ListNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">reverseKGroup</span>(ListNode<span style="color:#f92672">*</span> head, <span style="color:#66d9ef">int</span> k) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  ListNode<span style="color:#f92672">*</span> newhead <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  ListNode<span style="color:#f92672">*</span> p1 <span style="color:#f92672">=</span> head, <span style="color:#f92672">*</span>p2 <span style="color:#f92672">=</span> p1, <span style="color:#f92672">*</span>p0 <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; p2 <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> k<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; <span style="color:#f92672">++</span>i){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    p2 <span style="color:#f92672">=</span> p2<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#66d9ef">while</span>(p2){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    reverseList(p1, p2);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    swap(p1, p2);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    <span style="color:#66d9ef">if</span>(p0) p0<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> p1;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    <span style="color:#66d9ef">else</span> newhead <span style="color:#f92672">=</span> p1;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    p0 <span style="color:#f92672">=</span> p2;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; p2 <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> k; <span style="color:#f92672">++</span>i){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>      p1 <span style="color:#f92672">=</span> p1<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>      p2 <span style="color:#f92672">=</span> p2<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>  <span style="color:#66d9ef">return</span> newhead;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>ListNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">reverseList</span>( ListNode<span style="color:#f92672">*</span> a, ListNode<span style="color:#f92672">*</span> b){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>  ListNode<span style="color:#f92672">*</span> pre <span style="color:#f92672">=</span> b<span style="color:#f92672">-&gt;</span>next,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>          <span style="color:#f92672">*</span> now <span style="color:#f92672">=</span> a,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>          <span style="color:#f92672">*</span> nxt<span style="color:#f92672">=</span> a<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>  <span style="color:#66d9ef">while</span>(now <span style="color:#f92672">&amp;&amp;</span> pre <span style="color:#f92672">!=</span> b){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>    now<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pre;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>    pre <span style="color:#f92672">=</span> now;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>    now <span style="color:#f92672">=</span> nxt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>    <span style="color:#66d9ef">if</span>(nxt) nxt <span style="color:#f92672">=</span> nxt<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>  <span style="color:#66d9ef">return</span> pre;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>}
</code></pre></div><p>é€™å€‹ç‰ˆæœ¬é›–ç„¶æœ‰éï¼Œä½†æœ‰å¹¾é»å•é¡Œï¼š</p>
<ol>
<li>ç‚ºäº†ç¶­æŒ <code>p1</code> åœ¨ <code>p2</code> å‰é¢ï¼Œå¤šç”¨äº†ä¸€å€‹ä¸å¿…è¦çš„ <code>swap</code>ã€‚</li>
<li>æ—¢ç„¶æ¯æ¬¡ <code>p1</code> éƒ½è¦çµ¦åˆ¥äººï¼ˆç¬¬ä¸€æ¬¡çµ¦ <code>newhead</code>ï¼Œä¹‹å¾Œéƒ½çµ¦ <code>p0</code>ï¼‰ï¼Œæœ‰æ²’æœ‰æ›´ç°¡æ½”çš„å¯«æ³•ï¼Ÿ</li>
<li>ç‚ºäº†åè½‰é–‰å€é–“ <code>[a,b]</code> ç”¨äº†ä¿®æ”¹çš„åè½‰å‡½å¼ï¼Œæ¯”ä¸€èˆ¬çš„é‚„è¦å¤šè·‘ä¸€æ¬¡ï¼Œä»¥ç¢ºä¿æœ€å¾Œä¸€å€‹ç¯€é» <code>b</code> æœ‰è½‰åˆ°ã€‚é€™æ¨£åœ¨åœ¨ç†è§£ä¸Šæ¯”è¼ƒä¸ç›´è§€ã€‚
<ul>
<li>ä½¿ç”¨é–‰å€é–“è¡¨ç¤ºæ˜¯å¸Œæœ› <code>p2 == nullptr</code> åªè¡¨ç¤ºæœ€å¾Œä¸€æ®µé•·åº¦ä¸å¤ çš„æƒ…å½¢ï¼ˆä¸ç„¶å¿…é ˆè¦å†æª¢æŸ¥ index <code>i</code>ï¼Œä¸ç®¡åœ¨è¿´åœˆå¤–æˆ–è¿´åœˆå…§æª¢æŸ¥éƒ½æ„Ÿè¦ºæœ‰é»é›œäº‚ï¼‰ã€‚</li>
</ul>
</li>
<li>æœ‰å¾ˆå¤šã€Œå°‡æŒ‡æ¨™å¾€å¾Œç§»å‹• <code>k</code> å€‹ã€çš„æ“ä½œï¼Œæ ¹æ“š DRY çš„åŸå‰‡ï¼Œæ‡‰è©²æ‹‰å‡ºä¾†åšæˆå‡½å¼ã€‚</li>
</ol>
<h2 id="modified-version">Modified version</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>ListNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">reverseKGroup</span>(ListNode<span style="color:#f92672">*</span> head, <span style="color:#66d9ef">int</span> k) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    <span style="color:#66d9ef">if</span> (k <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> head;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    ListNode<span style="color:#f92672">*</span>  p1 <span style="color:#f92672">=</span> head;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    ListNode<span style="color:#f92672">*</span>  p2 <span style="color:#f92672">=</span> next(head, k<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    ListNode<span style="color:#f92672">*</span>  newhead <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    ListNode<span style="color:#f92672">**</span> prelink <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>newhead;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#66d9ef">while</span>(p2){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>        <span style="color:#75715e">// 1st iter  : Set newhead to p2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#75715e"></span>        <span style="color:#75715e">// otherwise : Connect the previous section with this one
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#75715e"></span>        <span style="color:#f92672">*</span>prelink <span style="color:#f92672">=</span> reverseRange(p1, p2);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>        <span style="color:#75715e">// now p1 points to the new tail, and p2 points to the new head
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#75715e"></span>        <span style="color:#75715e">// Points to the `next` of the tail of this section
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#75715e"></span>        prelink  <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>p1<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>        <span style="color:#75715e">// Next section starts from the next of the tail
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#75715e"></span>        p1       <span style="color:#f92672">=</span> p1<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>        <span style="color:#75715e">// Next section ends at the k-1th node after its head
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span style="color:#75715e"></span>        p2       <span style="color:#f92672">=</span> next(p1, k<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>    <span style="color:#66d9ef">return</span> newhead;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span style="color:#75715e">// Reverse a closed interval [a, b]
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span style="color:#75715e"></span>ListNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">reverseRange</span>(ListNode<span style="color:#f92672">*</span> a, ListNode<span style="color:#f92672">*</span> b){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>    <span style="color:#75715e">// Points `pre` to the node that `now` should connet to
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span style="color:#75715e"></span>    ListNode<span style="color:#f92672">*</span> pre <span style="color:#f92672">=</span> b<span style="color:#f92672">-&gt;</span>next,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>            <span style="color:#f92672">*</span> now <span style="color:#f92672">=</span> a;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>    <span style="color:#66d9ef">for</span>(ListNode<span style="color:#f92672">*</span> nxt <span style="color:#f92672">=</span> now<span style="color:#f92672">-&gt;</span>next; nxt <span style="color:#f92672">!=</span> b<span style="color:#f92672">-&gt;</span>next; nxt <span style="color:#f92672">=</span> nxt<span style="color:#f92672">-&gt;</span>next){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>        now<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pre;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>        pre <span style="color:#f92672">=</span> exchange(now, nxt);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>    now<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pre;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span>    <span style="color:#66d9ef">return</span> now;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span style="color:#75715e">// Get the nth next node, stop if null
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span><span style="color:#75715e"></span>ListNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">next</span>(ListNode<span style="color:#f92672">*</span> n, size_t k) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span>    <span style="color:#66d9ef">for</span>(size_t i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; n <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> k; <span style="color:#f92672">++</span>i)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span>        n <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>next;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span>    <span style="color:#66d9ef">return</span> n;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span>}
</code></pre></div><p>ä¿®æ­£äº†ä¹‹å‰æåˆ°çš„å•é¡Œï¼š</p>
<ol>
<li>å°‡ã€Œ<code>k</code> ç‚ºä¸€ã€çš„ç‹€æ³ç›´æ¥å›å‚³ï¼Œé¿å…ä¸å¿…è¦çš„è¨ˆç®—ã€‚</li>
<li>åˆ©ç”¨é›™é‡æŒ‡æ¨™ä¾†è§£æ±º <code>p0</code> çš„å•é¡Œï¼Œæ­¤è™• <code>prelink</code> å¯ä»¥ç†è§£ç‚ºã€Œä¸Šä¸€æ®µå°¾ç«¯çš„æ¥å£ã€ã€‚æœ€ä¸€é–‹å§‹æŒ‡å‘ <code>newhead</code>ï¼ˆç®—æ˜¯é•·åº¦ç‚º 0 çš„ linked listï¼‰ï¼Œå› æ­¤åœ¨ç¬¬ä¸€æ¬¡è¿´åœˆæœƒæŠŠç¬¬ä¸€æ®µçš„é ­ã€Œæ¥åˆ°ã€ <code>newhead</code> å¾Œï¼›å¾€å¾Œçš„è¿´åœˆæœƒè‡ªå‹•å°‡ä¸Šä¸€æ®µèˆ‡é€™ä¸€æ®µæ¥å¥½ï¼Œä¸æœƒå‹•åˆ° <code>newhead</code>ã€‚</li>
<li>åˆ©ç”¨ã€Œåè½‰å¾Œ <code>pre</code> æœƒæ¥åœ¨ <code>head</code>ã€å¾Œé¢çš„æ€§è³ªï¼Œå°‡ <code>b-&gt;next</code> ç´€éŒ„åˆ° <code>pre</code> ã€‚å†å°‡åœæ­¢æ¢ä»¶è¨­ç‚º <code>nxt == b-&gt;next</code>ï¼Œç”¨ä¸€èˆ¬çš„åè½‰æ¼”ç®—æ³•ä¾†è§£ã€‚å¦å¤–å› ç‚ºä¸æœƒå‡ºç¾ <code>b</code> ç‚º <code>nullptr</code> çš„ç‹€æ³ï¼Œå› æ­¤çœç•¥æª¢æŸ¥ã€‚</li>
<li>æŠŠã€Œå°‡æŒ‡æ¨™å¾€å¾Œç§»å‹• <code>k</code> å€‹ã€ç¨ç«‹å‡ºä¾†ï¼Œè®“ç¨‹å¼æ¶æ§‹æ›´æ¸…çˆ½ã€‚</li>
</ol>
<h2 id="recursive-version">Recursive version</h2>
<p>å·çœ‹åˆ¥äººçš„è§£ç­”å¾Œç™¼ç¾å¯ä»¥ç”¨éè¿´ä¾†å¯«ï¼Œä¾†è©¦è©¦çœ‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>ListNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">reverseKGroup</span>(ListNode<span style="color:#f92672">*</span> head, <span style="color:#66d9ef">int</span> k) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  <span style="color:#66d9ef">if</span>(k <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> head;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  <span style="color:#66d9ef">if</span>(ListNode<span style="color:#f92672">*</span> tail <span style="color:#f92672">=</span> next(head, k<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>); <span style="color:#f92672">!</span>tail){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>      <span style="color:#66d9ef">return</span> head;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  }<span style="color:#66d9ef">else</span>{
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>      reverseRange(head, tail);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>      <span style="color:#75715e">// now `tail` points to the new head
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#75715e"></span>      <span style="color:#75715e">//     `head` points to the new tail
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#75715e"></span>      head<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> reverseKGroup(head<span style="color:#f92672">-&gt;</span>next, k);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>      <span style="color:#66d9ef">return</span> tail;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>}
</code></pre></div><p>éè¿´çœŸçš„èƒ½å¯«å¾—å¾ˆç°¡æ½”å•Šï¼Œåªéœ€è¦ä¸€å€‹è®Šæ•¸&hellip;</p>
<h2 id="æƒ³æ³•">æƒ³æ³•</h2>
<p>ä¸€é–‹å§‹æ˜¯åœ¨æ¯æœˆæŒ‘æˆ°å¯«åˆ°é€™é¡Œï¼Œå¯«å®Œä¹‹å¾Œæ‰ç™¼ç¾æ˜¯ hard çš„é¡Œç›®ã€‚éå»éƒ½æ„Ÿè¦º hard é›£åˆ°çˆ†ç‚¸ï¼Œé€™æ¬¡è‡ªå·±è§£äº†ä¸€é¡Œå¾Œå°±æ¯”è¼ƒæœ‰ä¿¡å¿ƒäº†ï¼ˆé›–ç„¶é€™é¡Œæ‡‰è©²ç®— hard ä¸­çš„ easyï¼‰ã€‚</p>
<p>å¦å¤–ä»¥ <code>Node</code> ç‚ºå…ƒç´ çš„ linked list æœ‰å‹åˆ¥ <code>L[Node]</code> ï¼Œé€™å€‹å‹åˆ¥å¯ä»¥è¦–ç‚ºä»¥ <code>nullptr</code> ç‚ºå–®ä½å…ƒç´ çš„å–®ç¾¤ï¼ˆMonoidï¼‰ï¼›ä¹Ÿå°æ‡‰åˆ° Haskell è£¡é¢çš„ <code>List</code> ã€‚å¦‚æ­¤ä¸€ä¾†ã€Œå°‡ ã€æŒ‡å‘ <code>nullptr</code> çš„æŒ‡æ¨™ã€ è¦–ç‚ºç©º linked listã€çš„æ¦‚å¿µå°±æ¯”è¼ƒå…·é«”äº†ã€‚</p>
<p><a href="https://gist.github.com/akamayu-ouo/1f8d942946828d85898248fd8356df1a">Full Solution</a></p>
		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/leetcode">leetcode</a></li>
					
					<li><a href="/tags/linked-list">linked list</a></li>
					
				</ul>
			</nav>
			
			
		</div>
        
            
                
                <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/viz.js"> </script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/lite.render.js"> </script>
<style>
svg.vizsvg {
    max-width: 85%;
    max-height: none;
    border-radius: 1em;
    display: block;
    margin: auto;
};
</style>
<script type="text/javascript">
    var viz = new Viz();
    let vizPrefix = "graphviz";
    let vizSelector =  "code[class=language-"+ vizPrefix +"]";
    Array.prototype.forEach.call(document.querySelectorAll(vizSelector)
            , function(x){
                    viz.renderSVGElement(x.innerText)
                        .then(function(svg){
                                svg.classList.add("vizsvg");
                                x.parentNode.parentNode.replaceChild(svg, x.parentNode);
                         });
                });
</script>

            
        
	</article>
</main>
<footer>
<hr><a class="soc" href="https://github.com/akamayu-ouo" title="GitHub"><i data-feather="github"></i></a>|âš¡ï¸
	2021  Â© Akamayu |  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script>
      feather.replace()
</script></div>
    </body>
</html>
